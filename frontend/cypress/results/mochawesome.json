{
  "stats": {
    "suites": 5,
    "tests": 19,
    "passes": 18,
    "pending": 0,
    "failures": 1,
    "start": "2024-04-08T08:52:54.055Z",
    "end": "2024-04-08T08:52:59.850Z",
    "duration": 5795,
    "testsRegistered": 31,
    "passPercent": 58.06451612903226,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 12,
    "hasSkipped": true
  },
  "results": [
    {
      "uuid": "6165714e-09b0-4423-8f6a-8199d6724ae3",
      "title": "",
      "fullFile": "cypress\\e2e\\backend\\endpoints.cy.js",
      "file": "cypress\\e2e\\backend\\endpoints.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "7e8c7b85-6681-436c-8fa3-bab9fe6124e4",
          "title": "GET /api/products",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/products returns 200 - success",
              "timedOut": null,
              "duration": 949,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(endpoint).then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.contains(\"application/json\");\n  for (let product of response.body) {\n    expect(product.id).to.be.a(\"string\");\n    expect(product.id).to.be.match(_pattern.UUIDv4);\n    expect(product.name).to.be.a(\"string\");\n    expect(product.description).to.be.a(\"string\");\n    expect(product.category).to.be.a(\"string\");\n    expect(product.originalPrice).to.be.a(\"number\");\n    expect(product.pictureUrl).to.be.a(\"string\");\n    expect(product.endDate).to.be.a(\"string\");\n    expect(product.endDate).to.match(_pattern.IOS8601);\n    expect(product.seller.id).to.be.a(\"string\");\n    expect(product.seller.username).to.be.a(\"string\");\n    for (let bid of product.bids) {\n      expect(bid.id).to.be.a(\"string\");\n      expect(bid.id).to.match(_pattern.UUIDv4);\n      expect(bid.price).to.be.a(\"number\");\n      expect(bid.date).to.be.a(\"string\");\n      expect(bid.date).to.match(_pattern.IOS8601);\n    }\n    const fixtureProduct = response.body.find(item => {\n      return item.id === \"a0f7c522-78f8-442e-a55d-642cfe566634\";\n    });\n    expect(fixtureProduct.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n    expect(fixtureProduct.name).to.be.eq(\"Lot de casseroles\");\n    expect(fixtureProduct.description).to.be.eq(\"Ensemble de casseroles de qualité supérieure pour répondre à tous vos besoins culinaires.\");\n    expect(fixtureProduct.category).to.be.eq(\"Cuisine\");\n    expect(fixtureProduct.originalPrice).to.be.eq(40);\n    expect(fixtureProduct.pictureUrl).to.be.eq(\"https://image.noelshack.com/fichiers/2023/12/4/1679526253-65535-51812547429-fe1cc0d832-c-512-512-nofilter.jpg\");\n    expect(fixtureProduct.seller.id).to.be.eq(_tokens.aliceId);\n    expect(fixtureProduct.seller.username).to.be.eq(\"alice\");\n    expect(fixtureProduct.bids.some(bid => bid.price === 65)).to.be.true;\n  }\n});",
              "err": {},
              "uuid": "6d3d132c-0115-454d-8f40-20f5185891aa",
              "parentUUID": "7e8c7b85-6681-436c-8fa3-bab9fe6124e4",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "6d3d132c-0115-454d-8f40-20f5185891aa"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 949,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "693edb6b-0d51-41af-b6a3-e2b1220d2cda",
          "title": "POST /api/products",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "POST /api/products returns 401 - not authorized",
              "timedOut": null,
              "duration": 181,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "e0a99a3a-b14a-42b5-95df-5de406f8c703",
              "parentUUID": "693edb6b-0d51-41af-b6a3-e2b1220d2cda",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 201 - created",
              "fullTitle": "POST /api/products returns 201 - created",
              "timedOut": null,
              "duration": 189,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  }\n}).then(response => {\n  // Assert that the response is as expected\n  expect(response.status).to.eq(201);\n  expect(response.body.id).to.be.match(_pattern.UUIDv4);\n  expect(response.body.name).to.eq(\"New Product\");\n  expect(response.body.description).to.eq(\"This is a new product\");\n  expect(response.body.category).to.eq(\"Electronics\");\n  expect(response.body.originalPrice).to.eq(99);\n  expect(response.body.pictureUrl).to.eq(\"https://example.com/product.jpg\");\n  expect(response.body.endDate).to.eq(\"2023-04-01T00:00:00.000Z\");\n  expect(response.body.sellerId).to.eq(_tokens.aliceId);\n});",
              "err": {},
              "uuid": "c30ecba4-d251-4b39-9a92-ba30edb05197",
              "parentUUID": "693edb6b-0d51-41af-b6a3-e2b1220d2cda",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 400 - missing or invalid fields",
              "fullTitle": "POST /api/products returns 400 - missing or invalid fields",
              "timedOut": null,
              "duration": 205,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    // Missing name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).then(req => {\n  expect(req.status).to.be.eq(400);\n  expect(req.body.error).to.be.eq(\"Invalid or missing fields\");\n  expect(req.body.details).to.exist;\n});",
              "err": {},
              "uuid": "9126581a-627f-4ebc-adea-0b1f0c4b9088",
              "parentUUID": "693edb6b-0d51-41af-b6a3-e2b1220d2cda",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object created in database",
              "fullTitle": "POST /api/products check mutation - object created in database",
              "timedOut": null,
              "duration": 186,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\n(0, _orm.getProducts)().then(({\n  products: productsBeforeCreation\n}) => {\n  (0, _orm.createProduct)().then(({\n    product\n  }) => {\n    (0, _orm.getProducts)().then(({\n      products: productsAfterCreation\n    }) => {\n      const newProducts = productsAfterCreation.filter(product => productsBeforeCreation.every(existingProduct => existingProduct.id !== product.id));\n      expect(newProducts.length).to.be.eq(1);\n      const newProduct = newProducts[0];\n      expect(newProduct.id).to.be.match(_pattern.UUIDv4);\n      expect(newProduct.name).to.eq(name);\n      expect(newProduct.description).to.eq(product.description);\n      expect(newProduct.category).to.eq(product.category);\n      expect(newProduct.originalPrice).to.eq(product.originalPrice);\n      expect(newProduct.pictureUrl).to.eq(product.pictureUrl);\n      expect(newProduct.endDate).to.eq(product.endDate);\n      expect(newProduct.seller.id).to.eq(_tokens.aliceId);\n      expect(newProduct.seller.username).to.eq(\"alice\");\n    });\n  });\n});",
              "err": {},
              "uuid": "974be048-27c6-480d-ba5e-0a2f60ea38d8",
              "parentUUID": "693edb6b-0d51-41af-b6a3-e2b1220d2cda",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "e0a99a3a-b14a-42b5-95df-5de406f8c703",
            "c30ecba4-d251-4b39-9a92-ba30edb05197",
            "9126581a-627f-4ebc-adea-0b1f0c4b9088",
            "974be048-27c6-480d-ba5e-0a2f60ea38d8"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 761,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "684c0dd8-8cf9-4edc-acbe-fa274749d00b",
          "title": "GET /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 404 - not found",
              "fullTitle": "GET /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 166,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "dd7e9502-aa69-4013-86f2-038e5ecb92b9",
              "parentUUID": "684c0dd8-8cf9-4edc-acbe-fa274749d00b",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/products/:productId returns 200 - success",
              "timedOut": null,
              "duration": 245,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(endpoint).then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.includes(\"application/json\");\n  const product = response.body;\n  expect(product.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n  expect(product.name).to.be.eq(\"Lot de casseroles\");\n  expect(product.description).to.be.eq(\"Ensemble de casseroles de qualité supérieure pour répondre à tous vos besoins culinaires.\");\n  expect(product.category).to.be.eq(\"Cuisine\");\n  expect(product.originalPrice).to.be.eq(40);\n  expect(product.pictureUrl).to.be.eq(\"https://image.noelshack.com/fichiers/2023/12/4/1679526253-65535-51812547429-fe1cc0d832-c-512-512-nofilter.jpg\");\n  expect(product.seller.id).to.be.eq(_tokens.aliceId);\n  expect(product.seller.username).to.be.eq(\"alice\");\n  const bid = response.body.bids.find(bid => bid.price === 65);\n  expect(bid.id).to.be.eq(\"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\");\n  expect(bid.bidder.id).to.be.eq(_tokens.charlyId);\n  expect(bid.bidder.username).to.be.eq(\"charly\");\n});",
              "err": {},
              "uuid": "1dcfc000-ac28-42ac-9f93-30fc8768e5fe",
              "parentUUID": "684c0dd8-8cf9-4edc-acbe-fa274749d00b",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "dd7e9502-aa69-4013-86f2-038e5ecb92b9",
            "1dcfc000-ac28-42ac-9f93-30fc8768e5fe"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 411,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "f24e7426-dbd1-4581-aec3-31c27929a15e",
          "title": "PUT /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "PUT /api/products/:productId returns 401 - not authorized",
              "timedOut": null,
              "duration": 196,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"PUT\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "bd208d50-db62-4431-9cc0-fda11a643849",
              "parentUUID": "f24e7426-dbd1-4581-aec3-31c27929a15e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success, when owner edit",
              "fullTitle": "PUT /api/products/:productId returns 200 - success, when owner edit",
              "timedOut": null,
              "duration": 248,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  }\n}).its(\"status\").should(\"equal\", 200);",
              "err": {},
              "uuid": "6b7069d5-11cc-405b-a0b3-b109d3af60f1",
              "parentUUID": "f24e7426-dbd1-4581-aec3-31c27929a15e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "PUT /api/products/:productId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 160,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "74af96e2-6ed6-47ae-a77a-bc77b371a354",
              "parentUUID": "f24e7426-dbd1-4581-aec3-31c27929a15e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success, when admin edit",
              "fullTitle": "PUT /api/products/:productId returns 200 - success, when admin edit",
              "timedOut": null,
              "duration": 223,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  }\n}).its(\"status\").should(\"equal\", 200);",
              "err": {},
              "uuid": "e4a8f0bf-c46a-40ac-b82c-43db2bdb5e48",
              "parentUUID": "f24e7426-dbd1-4581-aec3-31c27929a15e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "PUT /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 227,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "291b6b31-64d0-4ea1-b026-c26ffb4f7929",
              "parentUUID": "f24e7426-dbd1-4581-aec3-31c27929a15e",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object updated in database",
              "fullTitle": "PUT /api/products/:productId check mutation - object updated in database",
              "timedOut": null,
              "duration": 231,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const newProductData = (0, _orm.buildProduct)();\ncy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: newProductData.name,\n    description: newProductData.description,\n    pictureUrl: newProductData.pictureUrl,\n    category: newProductData.category,\n    originalPrice: newProductData.originalPrice,\n    endDate: newProductData.endDate.toISOString()\n  }\n}).then(() => {\n  cy.request(endpoint).then(response => {\n    const product = response.body;\n    expect(response.status).to.be.eq(200);\n    expect(product.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n    expect(product.name).to.be.eq(newProductData.name);\n    expect(product.description).to.be.eq(newProductData.description);\n    expect(product.category).to.be.eq(newProductData.category);\n    expect(product.originalPrice).to.be.eq(newProductData.originalPrice);\n    expect(product.pictureUrl).to.be.eq(newProductData.pictureUrl);\n    expect(product.endDate).to.be.eq(newProductData.endDate.toISOString());\n    expect(product.seller.id).to.be.eq(_tokens.aliceId);\n    expect(product.seller.username).to.be.eq(\"alice\");\n  });\n});",
              "err": {},
              "uuid": "81c74412-a851-4626-9a65-34a04ee046db",
              "parentUUID": "f24e7426-dbd1-4581-aec3-31c27929a15e",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "bd208d50-db62-4431-9cc0-fda11a643849",
            "6b7069d5-11cc-405b-a0b3-b109d3af60f1",
            "74af96e2-6ed6-47ae-a77a-bc77b371a354",
            "e4a8f0bf-c46a-40ac-b82c-43db2bdb5e48",
            "291b6b31-64d0-4ea1-b026-c26ffb4f7929",
            "81c74412-a851-4626-9a65-34a04ee046db"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1285,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
          "title": "DELETE /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "DELETE /api/products/:productId returns 401 - not authorized",
              "timedOut": null,
              "duration": 244,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"DELETE\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "30ba0889-451b-4e5a-961c-37017c75f6fc",
              "parentUUID": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when owner edit",
              "fullTitle": "DELETE /api/products/:productId returns 204 - success, when owner edit",
              "timedOut": null,
              "duration": 190,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "52234356-1692-4c16-b6b8-ac91c793d287",
              "parentUUID": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "DELETE /api/products/:productId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 212,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "0b6d2c47-7cfd-450f-8674-ee29b36651d9",
              "parentUUID": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when admin edit",
              "fullTitle": "DELETE /api/products/:productId returns 204 - success, when admin edit",
              "timedOut": null,
              "duration": 167,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "98cd41bf-90b1-438b-8dca-66e065cd6d28",
              "parentUUID": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "DELETE /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 257,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "ed0ac090-cb4f-4612-b714-f05ef0b2b38f",
              "parentUUID": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object deleted in database",
              "fullTitle": "DELETE /api/products/:productId check mutation - object deleted in database",
              "timedOut": null,
              "duration": 812,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"GET\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).then(response => {\n  expect(response.status).to.be.eq(200);\n  cy.request({\n    url: endpoint,\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${_tokens.aliceToken}`\n    }\n  }).then(response => {\n    expect(response.status).to.be.eq(204);\n    cy.request({\n      url: endpoint,\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${_tokens.aliceToken}`\n      },\n      failOnStatusCode: false\n    }).then(response => {\n      expect(response.status).to.be.eq(404);\n    });\n  });\n});",
              "err": {
                "message": "CypressError: `cy.request()` failed trying to load:\n\nhttp://localhost:3000/api/dev/reset\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  > Error: connect ECONNREFUSED 127.0.0.1:3000\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: GET\nURL: http://localhost:3000/api/dev/reset\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don't have internet access\n  - you forgot to run / boot your web server\n  - your web server isn't accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping all of the remaining tests.",
                "estack": "CypressError: `cy.request()` failed trying to load:\n\nhttp://localhost:3000/api/dev/reset\n\nWe attempted to make an http request to this URL but the request failed without a response.\n\nWe received this error at the network level:\n\n  > Error: connect ECONNREFUSED 127.0.0.1:3000\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: GET\nURL: http://localhost:3000/api/dev/reset\n\n-----------------------------------------------------------\n\nCommon situations why this would fail:\n  - you don't have internet access\n  - you forgot to run / boot your web server\n  - your web server isn't accessible\n  - you have weird network configuration settings on your computer\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping all of the remaining tests.\n    at <unknown> (http://localhost:51906/__cypress/runner/cypress_runner.js:133151:70)\n    at tryCatcher (http://localhost:51906/__cypress/runner/cypress_runner.js:1807:23)\n    at <unknown> (http://localhost:51906/__cypress/runner/cypress_runner.js:4203:37)\n    at tryCatcher (http://localhost:51906/__cypress/runner/cypress_runner.js:1807:23)\n    at Promise._settlePromiseFromHandler (http://localhost:51906/__cypress/runner/cypress_runner.js:1519:31)\n    at Promise._settlePromise (http://localhost:51906/__cypress/runner/cypress_runner.js:1576:18)\n    at Promise._settlePromise0 (http://localhost:51906/__cypress/runner/cypress_runner.js:1621:10)\n    at Promise._settlePromises (http://localhost:51906/__cypress/runner/cypress_runner.js:1697:18)\n    at _drainQueueStep (http://localhost:51906/__cypress/runner/cypress_runner.js:2407:12)\n    at _drainQueue (http://localhost:51906/__cypress/runner/cypress_runner.js:2400:9)\n    at Async._drainQueues (http://localhost:51906/__cypress/runner/cypress_runner.js:2416:5)\n    at Async.drainQueues (http://localhost:51906/__cypress/runner/cypress_runner.js:2286:14)\nFrom Your Spec Code:\n    at Context.eval (webpack://frontend/./cypress/e2e/backend/endpoints.cy.js:13:5)\n\nFrom Node.js Internals:\n  RequestError: Error: connect ECONNREFUSED 127.0.0.1:3000\n      at new r (<embedded>:1831:404877)\n      at ee.callback (<embedded>:1831:410878)\n      at e.callback.s.callback [as _callback] (<embedded>:1831:410324)\n      at s._callback.s.callback.s.callback (<embedded>:2049:91633)\n      at ee.emit (node:events:514:28)\n      at ee.onRequestError (<embedded>:2049:100575)\n      at ClientRequest.emit (node:events:526:35)\n      at Socket.socketErrorListener (node:_http_client:501:9)\n      at Socket.emit (node:events:514:28)\n      at emitErrorNT (node:internal/streams/destroy:151:8)\n      at emitErrorCloseNT (node:internal/streams/destroy:116:3)\n      at process.processTicksAndRejections (node:internal/process/task_queues:82:21)",
                "diff": null
              },
              "uuid": "e0ceadf6-592e-476c-9894-71730dde9401",
              "parentUUID": "6c9f18b7-d13c-48ca-a189-296ddc966f19",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "30ba0889-451b-4e5a-961c-37017c75f6fc",
            "52234356-1692-4c16-b6b8-ac91c793d287",
            "0b6d2c47-7cfd-450f-8674-ee29b36651d9",
            "98cd41bf-90b1-438b-8dca-66e065cd6d28",
            "ed0ac090-cb4f-4612-b714-f05ef0b2b38f"
          ],
          "failures": [
            "e0ceadf6-592e-476c-9894-71730dde9401"
          ],
          "pending": [],
          "skipped": [],
          "duration": 1882,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "0f61cca0-dc8f-4f51-aec8-6ebf766b906d",
          "title": "POST /api/products/:productId/bids",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "POST /api/products/:productId/bids returns 401 - not authorized",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "fffb0c4d-8484-4c23-acf7-f7596bd5b2a7",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 201 - created",
              "fullTitle": "POST /api/products/:productId/bids returns 201 - created",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    price: 42\n  }\n}).then(response => {\n  // Assert that the response is as expected\n  expect(response.status).to.eq(201);\n  expect(response.body.id).to.be.match(_pattern.UUIDv4);\n  expect(response.body.productId).to.be.match(_pattern.UUIDv4);\n  expect(response.body.price).to.be.a(\"number\");\n  expect(response.body.date).to.match(_pattern.IOS8601);\n  expect(response.body.bidderId).to.match(_pattern.UUIDv4);\n});",
              "err": {},
              "uuid": "342e47c8-42f6-4bb7-89f7-a66e9515cb59",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 400 - missing or invalid fields",
              "fullTitle": "POST /api/products/:productId/bids returns 400 - missing or invalid fields",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    // price: 42, missing\n  },\n  failOnStatusCode: false\n}).then(req => {\n  expect(req.status).to.be.eq(400);\n  expect(req.body.error).to.be.eq(\"Invalid or missing fields\");\n  expect(req.body.details).to.exist;\n});",
              "err": {},
              "uuid": "fde34b89-9f07-42df-b8bc-67f5e7788ecb",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "check mutation - object created in database",
              "fullTitle": "POST /api/products/:productId/bids check mutation - object created in database",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    price: 42\n  }\n}).then(response => {\n  expect(response.status).to.be.eq(201);\n  const newBid = response.body;\n  cy.request(\"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\").then(response => {\n    const product = response.body;\n    expect(product.bids.some(bid => bid.id === newBid.id)).to.be.true;\n  });\n});",
              "err": {},
              "uuid": "77184101-2c37-49f6-8856-15b829aa9dbd",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            }
          ],
          "suites": [],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [
            "fffb0c4d-8484-4c23-acf7-f7596bd5b2a7",
            "342e47c8-42f6-4bb7-89f7-a66e9515cb59",
            "fde34b89-9f07-42df-b8bc-67f5e7788ecb",
            "77184101-2c37-49f6-8856-15b829aa9dbd"
          ],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "4cb72edd-2491-44c5-82c3-974231376a26",
          "title": "DELETE /bids/:bidId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "DELETE /bids/:bidId returns 401 - not authorized",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"DELETE\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "52b351fe-b3de-4b50-afc0-62d17cd0e06a",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 204 - success, when owner edit",
              "fullTitle": "DELETE /bids/:bidId returns 204 - success, when owner edit",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.charlyToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "48dbf7bf-e01c-407e-9c09-6c65be3947b7",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "DELETE /bids/:bidId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "ba9304eb-58c9-466c-b9a5-6209902fe1ad",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 204 - success, when admin edit",
              "fullTitle": "DELETE /bids/:bidId returns 204 - success, when admin edit",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "394ba371-a14d-48be-b0da-5b91caef5be1",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "DELETE /bids/:bidId returns 404 - not found",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "71dbbf47-27fa-441c-bcb0-4ac112293098",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "check mutation - object deleted in database",
              "fullTitle": "DELETE /bids/:bidId check mutation - object deleted in database",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\",\n  method: \"GET\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).then(response => {\n  const product = response.body;\n  expect(product.bids.some(bid => bid.id === \"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\")).to.be.true;\n  cy.request({\n    url: endpoint,\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${_tokens.charlyToken}`\n    }\n  }).then(response => {\n    expect(response.status).to.be.eq(204);\n    cy.request({\n      url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\",\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${_tokens.aliceToken}`\n      },\n      failOnStatusCode: false\n    }).then(response => {\n      const product = response.body;\n      expect(product.bids.some(bid => bid.id === \"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\")).to.be.false;\n    });\n  });\n});",
              "err": {},
              "uuid": "a89b5a3f-25aa-4b0d-991a-767c45a9a112",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            }
          ],
          "suites": [],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [
            "52b351fe-b3de-4b50-afc0-62d17cd0e06a",
            "48dbf7bf-e01c-407e-9c09-6c65be3947b7",
            "ba9304eb-58c9-466c-b9a5-6209902fe1ad",
            "394ba371-a14d-48be-b0da-5b91caef5be1",
            "71dbbf47-27fa-441c-bcb0-4ac112293098",
            "a89b5a3f-25aa-4b0d-991a-767c45a9a112"
          ],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "a64a48cc-9e84-4f65-9b53-42fe5f9bc4aa",
          "title": "GET /api/users/:userId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 404 - not found",
              "fullTitle": "GET /api/users/:userId returns 404 - not found",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/users/not-existing-id\",\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "4935a9bd-6066-46aa-a3c2-d5bfb2c3e87d",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            },
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/users/:userId returns 200 - success",
              "timedOut": null,
              "duration": 0,
              "state": "skipped",
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(\"http://localhost:3000/api/users/1f2fadb1-0d7e-47a7-9d5b-ed031d665d3e\").then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.contains(\"application/json\");\n  const user = response.body;\n  expect(user.id).to.eq(\"1f2fadb1-0d7e-47a7-9d5b-ed031d665d3e\");\n  expect(user.username).to.be.eq(\"alice\");\n  expect(user.admin).to.be.false;\n  for (let product of user.products) {\n    expect(product.id).to.be.a(\"string\");\n    expect(product.id).to.match(_pattern.UUIDv4);\n    expect(product.description).to.be.a(\"string\");\n    expect(product.category).to.be.a(\"string\");\n    expect(product.originalPrice).to.be.a(\"number\");\n    expect(product.pictureUrl).to.be.a(\"string\");\n    expect(product.endDate).to.be.a(\"string\");\n    expect(product.endDate).to.match(_pattern.IOS8601);\n  }\n  for (let bid of user.bids) {\n    expect(bid.id).to.be.a(\"string\");\n    expect(bid.id).to.match(_pattern.UUIDv4);\n    expect(bid.price).to.be.a(\"number\");\n    expect(bid.date).to.be.a(\"string\");\n    expect(bid.date).to.match(_pattern.IOS8601);\n    expect(bid.product.id).to.a(\"string\");\n    expect(bid.product.id).to.match(_pattern.UUIDv4);\n    expect(bid.product.name).to.a(\"string\");\n  }\n});",
              "err": {},
              "uuid": "7d66859e-2d04-4f80-9ee6-495c11cd4bea",
              "parentUUID": null,
              "isHook": false,
              "skipped": true
            }
          ],
          "suites": [],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [
            "4935a9bd-6066-46aa-a3c2-d5bfb2c3e87d",
            "7d66859e-2d04-4f80-9ee6-495c11cd4bea"
          ],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/results",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.2.0"
    }
  }
}